{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","del","delete","Filter","value","handleChange","onChange","PersonForm","name","number","handleName","handleNumber","handleSubmit","onSubmit","type","Person","person","handleDelete","onClick","Persons","personList","map","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","error","style","text","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","searchTerm","setSearchTerm","setMessage","filteredPersons","filter","toLowerCase","includes","useEffect","initialPersons","event","target","preventDefault","p","find","undefined","window","confirm","personObject","returnedPerson","clearTimeout","timeoutID","setTimeout","catch","concat","err","deletedName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87c8bb65.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst del = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst personService = { getAll, create, update, del }\n\nexport default personService\n","import React from 'react'\n\nconst Filter = ({ value, handleChange }) => {\n  return (\n    <div>\n      filter shown with&nbsp;\n      <input\n        value={value}\n        onChange={handleChange}\n      />\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm =\n  ({ name, number, handleName, handleNumber, handleSubmit }) => (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name:&nbsp;\n        <input\n          value={name}\n          onChange={handleName}\n        />\n      </div>\n      <div>\n        number:&nbsp;\n        <input\n          value={number}\n          onChange={handleNumber}\n        />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  )\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, handleDelete }) => (\n  <div>\n    {person.name} {person.number}&nbsp;\n    <button onClick={handleDelete}>\n      delete\n    </button>\n  </div>\n)\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ personList, handleDelete }) => (\n  <div>\n    {personList.map(person =>\n      <Person\n        key={person.id}\n        person={person}\n        handleDelete={() => handleDelete(person.id)}\n      />\n    )}\n  </div>\n)\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  const notificationStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  if (message.error) {\n    notificationStyle.color = 'red'\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message.text}\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useEffect, useState } from 'react'\nimport personService from './services/persons'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [message, setMessage] = useState(null)\n\n  const filteredPersons = searchTerm === ''\n    ? persons\n    : persons.filter(\n      person =>\n        person.name.toLowerCase().includes(searchTerm.toLowerCase())\n    )\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchTermChange = (event) => {\n    setSearchTerm(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const p = persons.find(p => p.name === newName)\n    const confirmString =\n      ' is already in the phonebook, replace the old number with a new one ?'\n    if (p !== undefined && window.confirm(p.name + confirmString)) {\n      const personObject = {\n        ...p,\n        number: newNumber\n      }\n      personService\n        .update(p.id, personObject)\n        .then(returnedPerson => {\n          setPersons(persons.map(\n            person => person.id !== p.id ? person : returnedPerson\n          ))\n          setNewName('')\n          setNewNumber('')\n          if (message !== null) {\n            clearTimeout(message.timeoutID)\n          }\n          const timeoutID = setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setMessage({\n            timeoutID,\n            text: `Updated ${returnedPerson.name}`,\n            error: false\n          })\n        })\n        .catch(() => {\n          if (message !== null) {\n            clearTimeout(message.timeoutID)\n          }\n          const timeoutID = setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setMessage({\n            timeoutID,\n            text: `${personObject.name} was already deleted from server`,\n            error: true\n          })\n          setPersons(persons.filter(p => p.id !== personObject.id))\n        })\n    } else if (p === undefined) {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          if (message !== null) {\n            clearTimeout(message.timeoutID)\n          }\n          const timeoutID = setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setMessage({\n            timeoutID,\n            text: `Added ${returnedPerson.name}`,\n            error: false\n          })\n        })\n        .catch((err) => {\n          if (message !== null) {\n            clearTimeout(message.timeoutID)\n          }\n          const timeoutID = setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setMessage({\n            timeoutID,\n            text: err.response.data.error,\n            error: true\n          })\n        })\n    }\n  }\n\n  const deletePerson = id => {\n    const { name: deletedName } = persons.find(p => p.id === id)\n    personService\n      .del(id).then(() => {\n        setPersons(persons.filter(p => p.id !== id))\n        if (message !== null) {\n          clearTimeout(message.timeoutID)\n        }\n        const timeoutID = setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setMessage({\n          timeoutID,\n          text: `deleted ${deletedName}`,\n          error: false\n        })\n      })\n      .catch(() => {\n        if (message !== null) {\n          clearTimeout(message.timeoutID)\n        }\n        const timeoutID = setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setMessage({\n          timeoutID,\n          text: `${deletedName} was already deleted from server`,\n          error: true\n        })\n        setPersons(persons.filter(p => p.id !== id))\n      })\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter\n        value={searchTerm}\n        handleChange={handleSearchTermChange}\n      />\n      <h3>add a new</h3>\n      <PersonForm\n        name={newName}\n        number={newNumber}\n        handleName={handleNameChange}\n        handleNumber={handleNumberChange}\n        handleSubmit={addPerson}\n      />\n      <h3>Numbers</h3>\n      <Persons personList={filteredPersons} handleDelete={deletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}